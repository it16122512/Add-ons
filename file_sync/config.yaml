# file_sync/config.yaml
name: File Sync SSL
slug: file_sync
version: "2.0.5"
description: "Sync SSL certificates using direct filesystem access"
url: https://github.com/it16122512/Add-ons/file_sync
arch:
  - aarch64
  - amd64
  - armv7
build_from:
  aarch64: "ghcr.io/home-assistant/aarch64-base:3.2.7"
  amd64: "ghcr.io/home-assistant/amd64-base:3.2.7"
  armv7: "ghcr.io/home-assistant/armv7-base:3.2.7"
startup: services
boot: auto
init: false
hassio_api: false  # Больше не нужен API
host_network: false

# Убрали ненужные привилегии
host_dbus: false
full_access: true  # Оставляем для доступа к файловой системе

map:
  - ssl:rw
  # backup:rw убран - не нужен для синхронизации сертификатов

options:
  source_addon_slug: "a0d7b954_nginxproxymanager"
  source_cert_path: "letsencrypt/live/npm-8"
  dest_relative_path: "nginxproxymanager/live/npm-1"
  asterisk_addon_slug: "b35499aa_asterisk"
  interval_seconds: 300
  timezone: "Europe/Moscow"
  restart_asterisk: true
  log_level: "info"

schema:
  source_addon_slug: str
  source_cert_path: str
  dest_relative_path: str
  asterisk_addon_slug: str
  interval_seconds: int(60,3600)
  timezone: str
  restart_asterisk: bool
  log_level: list(error|warning|info|debug)
