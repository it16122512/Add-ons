name: File Sync SSL
slug: file_sync
version: "2.1.3"
description: "Sync SSL certificates from Nginx Proxy Manager to Asterisk"
url: https://github.com/it16122512/Add-ons/file_sync
arch:
  - aarch64
  - amd64
  - armv7
# УДАЛЕНО: build_from - не нужно, используем стандартный базовый образ
image: ghcr.io/home-assistant/{arch}-base:3.2.7  # ← ПРОСТОЙ ПОДХОД как в Filebrowser
startup: services
boot: auto
init: false
hassio_api: true
host_network: false
privileged:
  - SYS_ADMIN
  - DAC_READ_SEARCH

# Оптимизированные монтирования (только необходимые)
map:
  - addon_configs:rw  # ← ОСНОВНОЙ путь к NPM
  - ssl:rw            # ← Целевой путь для Asterisk

options:
  source_relative_path: "a0d7b954_nginxproxymanager/letsencrypt/live/npm-8"
  dest_relative_path: "nginxproxymanager/live/npm-1"
  interval_seconds: 300
  log_level: info
  timezone: "Europe/Moscow"
  restart_asterisk: true

schema:
  source_relative_path: str
  dest_relative_path: str
  interval_seconds: int(60,3600)
  log_level: list(info|debug|warning|error)
  timezone: str
  restart_asterisk: bool
